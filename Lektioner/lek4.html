<!DOCTYPE html>

<html lang="sv">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>UnityRL</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../style.css">
        <link rel="icon" type="image/x-icon" href="../Bilder/rl.png">

        <!--Google fonts-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
    </head>
    <body>
        <header>
            <h1>IV: Grundl√§ggande kodning</h1>
            <nav>
                <ul>
                    <li><a href="../index.html">Hem</a></li>
                    <li><a href="lek1.html">I: Installation av Unity</a></li>
                    <li><a href="lek2.html">II: √ñvrigt mjukvara</a></li>
                    <li><a href="lek3.html">III: Stegvis konfiguration</a></li>
                    <li><a href="lek4.html">IV: Grundl√§ggande kodning</a></li>
                    <li><a href="lek5.html">V: Milj√∂er</a></li>
                    <li><a href="lek6.html">VI: Tr√§ning</a></li>
                    <li><a href="felkallor.html">Felk√§llor</a></li>
                    <li><a href="../upphavsratt.html">Upphovsr√§tt</a></li>
                </ul>
            </nav>
        </header>
        
        <h2>Vad beh√∂ver jag g√∂ra och t√§nka p√• f√∂r att koda i Unity?</h2>
        <div class="flexbox">
            <div class="f3">

        <p>
Efter att du skapat ett script och √§r redo att koda i unity beh√∂ver du t√§nka p√• en del saker. F√∂r att enklare visualisera kommer instruktionen anta att en bil ska programmeras.
<br><br>
I scripten byggs upp de grundl√§ggande funktioner som agenten ska ha tillg√•ng till. Detta kan inneb√§ra allt fr√•n att l√•ta den navigera l√§ngs x- och z-axeln, till√•ta den att hoppa l√§ngs y-axeln eller ge den m√∂jligheten att driva en motor till en bil. 
<br><br>
√Ñven om agenten vill uppn√• mer avancerade beteenden beh√∂vs inte den funktionen direkt i koden. Det √§r ist√§llet m√∂jligt att uppn√• det beteendet genom att ge agenten verktygen f√∂r att skapa det beteendet sj√§lv. Nedanf√∂r beskrivs det kortfattat vad som ett script beh√∂ver inneh√•lla f√∂r att det ska funka p√• en grundl√§ggande niv√•. 
<br><br>
Detta scriptet √§r grunden till vad som beh√∂vs. Vad olika delar av scriptet betyder f√∂rklaras under det angivna kodblocket.
</p>
<pre>
<code>

    using System.Collections;
    using System.Collections.Generic;
    using UnityEngine;
    using Unity.MLAgents;
    using Unity.MLAgents.Sensors;
    using Unity.MLAgents.Actuators;
    
    public class NamnP√•Agent: Agent
    {
    void Start() 
    {
    
    }
    
        public override void OnEpisodeBegin() 
    {
        
    }
    
    public override void CollectObservations(VectorSensor sensor)
    {
    
    }
    
    public override void OnActionReceived(ActionBuffers actionBuffers)
    {
    
    }        
    
    }

</code>
</pre>

<p>
Ovan angivna script visar tre agent specifika metoder, men √§ven Start() som √§r en standard unity metod. Vad metoderna OnEpisodeBegin(), CollectObservations() och OnActionRecieved() g√∂r kommer att beskrivas kort. Dock kan dessa metoder konfigureras efter egna behov men anv√§nds i denna instruktionen f√∂r att hj√§lpa agenten p√• f√∂ljande vis.
<br><br>
Start() anv√§nds en g√•ng per simulation n√§r milj√∂n initieras. Instruktionerna anv√§nder denna metod f√∂r att initiera den komponent som tar hand om agentens fysiska barri√§r. 
<br><br>
OnEpisodeBegin() anv√§nds varje g√•ng ett nytt tr√§ningstillf√§lle b√∂rjar. F√∂ljande √§r exempel p√• n√§r ett tr√§ningstillf√§lle √§r √∂ver och programmet vill p√•b√∂rja ett nytt. 
<br><br>

    - Agenten har n√•tt sitt m√•l <br><br>
    - Agenten har misslyckats med sitt m√•l <br><br>
    - Om den begr√§nsade tiden g√•r ut <br>

<br>
F√∂r att manuellt avsluta ett tr√§ningstillf√§lle anv√§nds funktionen <strong>EndEpisode()</strong>. N√§r den anv√§nds kommer n√§sta tr√§ningstillf√§lle initieras, vilket √§r n√§r <strong>OnEpisodeBegin()</strong> anv√§nds.
<br>
Denna metod anv√§nds fr√§mst f√∂r att nollst√§lla agentens momentum och position s√• pass att den kan f√∂rs√∂ka en g√•ng till ist√§llet f√∂r att spendera tid f√∂r att √•terv√§nda tillbaka till b√∂rjan.
<br><br>
<strong>CollectObservations()</strong> anv√§nds f√∂r att ge agenten information om sig sj√§lv och omgivningen. Denna metod aktiveras flera g√•nger per sekund. Observationer kan exempelvis vara hastighet, position och rotation av agenten. Du vill observera n√•got relativt grundl√§ggande d√• dessa √§r till hj√§lp f√∂r att ha kontroll √∂ver ett fordon. En observation kan l√§ggas till med syntaxen <strong>sensor.AddObservation(n)</strong> (n = variabel som observeras).
<br><br>
<strong>OnActionReceived()</strong> anv√§nds prim√§rt f√∂r att tala om f√∂r agenten vilka handlingar den kan ta. Detta √§r m√∂jligt genom att ange f√∂ljande syntaxen till en variabel, <strong>actionBuffers.ContinousAction[n]</strong> (n = positivt heltal). 
<br>
Eftersom √§ven denna metod √§r kallad flera g√•nger per sekund kan den anv√§ndas f√∂r att kontrollera specifika tillst√•nd. Exempel p√• ett s√•dant tillst√•nd √§r ifall agenten har gjort n√•got den borde eller inte borde ha gjort. N√§r det tillst√•ndet √§r bem√∂tt √§r det vanligt att ange agenten en bel√∂ning eller bestraffning genom syntaxen <strong>SetReward(n)</strong> eller <strong>AddReward(n)</strong> (n = rationellt tal) d√§r ett negativt tal tolkas som en bestraffning medan ett positivt tolkas som en bel√∂ning. Skillnaden mellan de tv√• syntaxen √§r att <strong>SetReward(n)</strong> s√§tter ett v√§rde f√∂r hela tr√§ningstillf√§llet. Medan <strong>AddReward(n)</strong> ackumulerar en bel√∂ning √∂ver ett tr√§ningstillf√§lle eftersom bel√∂ningar staplas med denna funktion.
<br><br>

<div class="parametrar">
    <p>
        Parametrar anv√§nds f√∂r att konfigurera agenten till att tr√§na enligt vissa specifika regler. En av dessa regler √§r <strong>max_steps</strong> vilket anger en √∂vre gr√§ns till hur l√§nge agenten kan tr√§na i en virtuell milj√∂. Det finns √§ven <strong>summray_freq</strong> vilket anger hur ofta resultaten kring tr√§ningen ska skickas till Anaconda Prompt. Siffran i b√•da dessa tillf√§llen representeras av steps. 
        <br><br>
        F√∂r referens tog det vid ett tr√§ningstillf√§lle 25 minuter f√∂r agenten att genomf√∂ra 100.000 steps. Dock kan denna siffra p√•verkas kraftigt genom olika metoder, eftersom det vid ett annat tillf√§lle tog 10 minuter f√∂r agenten att n√• 100.000 steps. Skillnaden mellan dessa tv√• milj√∂er var endast antalet agenter som tr√§nade samtidigt. Antalet agenter som tr√§nade d√• 10 minuter g√§llde var fyra g√•nger st√∂rre √§n vid 25 minuter. 
        <br><br>
        Dessa parametrar konfigureras inuti en fil av typen .yaml och om det √∂nskas finns mer information om specifika parametrar bland GitHub repository ML-Agents dokumentation under rubriken ‚Äú<a href="https://github.com/Unity-Technologies/ml-agents/blob/develop/docs/Training-Configuration-File.md" target="_blank">Training Configuration File</a>‚Äù. 
    </p>
</div>






       
</div></div>
<br>
<p class="comment">Om du k√§nner att du l√§rt dig n√•got kan du markera lektionen som klar</p>

        <form id="integerForm">
            <input type="number" id="integerInput" name="integerInput" value="4" disabled hidden> 
            <button type="submit">Markera lektion som klar üëç</button>
        </form>

        <script src="../scriptLC.js"></script>
        <script src="../script.js"></script>

        <footer class="footer">
            <p>Ansvarig utgivare: Erik Holmstr√∂m | Senast uppdaterad: 2024-04-10 | E-post: 05erihol@skola.boras.se</p>
    
            <p><a href="../upphavsratt.html">Upphovsr√§tt</a></p>
           
            <p><a href="../Material/GyarbRL.pdf" target="_blank">Se √§ven ursprunglig inspiration</a></p>
        </footer>
    </body>
</html>
